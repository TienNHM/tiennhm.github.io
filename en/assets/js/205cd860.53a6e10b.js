"use strict";(self.webpackChunktiennhm_github_io=self.webpackChunktiennhm_github_io||[]).push([[8007],{55748:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>o,frontMatter:()=>l,metadata:()=>r,toc:()=>h});var i=s(74848),t=s(28453);const l={title:"22. SQL Json practice",slug:"22-sql-json-practice",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 ki\u1ec3u d\u1eef li\u1ec7u JSON trong SQL v\xe0 c\xe1ch truy v\u1ea5n d\u1eef li\u1ec7u JSON trong SQL.",image:"https://tiennhm.github.io/img/docs/database.jpg",sidebar_position:22,tags:["database","sql","learn-sql","roadmap","dbms"],keywords:["database","sql","learn-sql","roadmap","dbms"],enableComments:!0,draft:!1},c=void 0,r={id:"database/learn-sql-in-30-days/SQL Json practice",title:"22. SQL Json practice",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 ki\u1ec3u d\u1eef li\u1ec7u JSON trong SQL v\xe0 c\xe1ch truy v\u1ea5n d\u1eef li\u1ec7u JSON trong SQL.",source:"@site/docs/06-database/learn-sql-in-30-days/22. SQL Json practice.md",sourceDirName:"06-database/learn-sql-in-30-days",slug:"/database/learn-sql-in-30-days/22-sql-json-practice",permalink:"/en/docs/database/learn-sql-in-30-days/22-sql-json-practice",draft:!1,unlisted:!1,editUrl:"https://github.com/TienNHM/tiennhm.github.io/tree/master/docs/06-database/learn-sql-in-30-days/22. SQL Json practice.md",tags:[{inline:!0,label:"database",permalink:"/en/docs/tags/database"},{inline:!0,label:"sql",permalink:"/en/docs/tags/sql"},{inline:!0,label:"learn-sql",permalink:"/en/docs/tags/learn-sql"},{inline:!0,label:"roadmap",permalink:"/en/docs/tags/roadmap"},{inline:!0,label:"dbms",permalink:"/en/docs/tags/dbms"}],version:"current",lastUpdatedAt:1742145178e3,sidebarPosition:22,frontMatter:{title:"22. SQL Json practice",slug:"22-sql-json-practice",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 ki\u1ec3u d\u1eef li\u1ec7u JSON trong SQL v\xe0 c\xe1ch truy v\u1ea5n d\u1eef li\u1ec7u JSON trong SQL.",image:"https://tiennhm.github.io/img/docs/database.jpg",sidebar_position:22,tags:["database","sql","learn-sql","roadmap","dbms"],keywords:["database","sql","learn-sql","roadmap","dbms"],enableComments:!0,draft:!1},sidebar:"tutorialSidebar",previous:{title:"21. Review 3",permalink:"/en/docs/database/learn-sql-in-30-days/21-review-3"},next:{title:"23. SQL connect apps",permalink:"/en/docs/database/learn-sql-in-30-days/23-sql-connect-apps"}},a={},h=[{value:"1. Gi\u1edbi thi\u1ec7u",id:"1-gi\u1edbi-thi\u1ec7u",level:2},{value:"1.1. JSON trong PostgreSQL/MySQL",id:"11-json-trong-postgresqlmysql",level:3},{value:"2. C\xe1ch l\u01b0u tr\u1eef v\xe0 truy v\u1ea5n JSON trong SQL",id:"2-c\xe1ch-l\u01b0u-tr\u1eef-v\xe0-truy-v\u1ea5n-json-trong-sql",level:2},{value:"2.1. T\u1ea1o b\u1ea3ng ch\u1ee9a d\u1eef li\u1ec7u JSON",id:"21-t\u1ea1o-b\u1ea3ng-ch\u1ee9a-d\u1eef-li\u1ec7u-json",level:3},{value:"2.2. Ch\xe8n d\u1eef li\u1ec7u JSON",id:"22-ch\xe8n-d\u1eef-li\u1ec7u-json",level:3},{value:"2.3. Truy v\u1ea5n d\u1eef li\u1ec7u JSON",id:"23-truy-v\u1ea5n-d\u1eef-li\u1ec7u-json",level:3},{value:"3. B\xe0i t\u1eadp th\u1ef1c h\xe0nh",id:"3-b\xe0i-t\u1eadp-th\u1ef1c-h\xe0nh",level:2},{value:"B\xe0i 1: Th\xeam tr\u01b0\u1eddng &quot;phone&quot; v\xe0o JSON",id:"b\xe0i-1-th\xeam-tr\u01b0\u1eddng-phone-v\xe0o-json",level:3},{value:"B\xe0i 2: T\xednh tu\u1ed5i trung b\xecnh c\u1ee7a kh\xe1ch h\xe0ng",id:"b\xe0i-2-t\xednh-tu\u1ed5i-trung-b\xecnh-c\u1ee7a-kh\xe1ch-h\xe0ng",level:3},{value:"B\xe0i 3: L\u1ecdc danh s\xe1ch kh\xe1ch h\xe0ng c\xf3 email k\u1ebft th\xfac b\u1eb1ng &quot;@example.com&quot;",id:"b\xe0i-3-l\u1ecdc-danh-s\xe1ch-kh\xe1ch-h\xe0ng-c\xf3-email-k\u1ebft-th\xfac-b\u1eb1ng-examplecom",level:3},{value:"4. T\u1ed5ng k\u1ebft b\xe0i h\u1ecdc",id:"4-t\u1ed5ng-k\u1ebft-b\xe0i-h\u1ecdc",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"M\u1ee5c ti\xeau b\xe0i h\u1ecdc: T\xecm hi\u1ec3u v\u1ec1 ki\u1ec3u d\u1eef li\u1ec7u JSON trong SQL v\xe0 c\xe1ch truy v\u1ea5n d\u1eef li\u1ec7u JSON trong SQL."}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"1-gi\u1edbi-thi\u1ec7u",children:"1. Gi\u1edbi thi\u1ec7u"}),"\n",(0,i.jsx)(e.p,{children:'D\u1eef li\u1ec7u JSON ("JavaScript Object Notation") l\xe0 \u0111\u1ecbnh d\u1ea1ng ph\u1ed5 bi\u1ebfn trong c\xe1c h\u1ec7 th\u1ed1ng hi\u1ec7n \u0111\u1ea1i, gi\xfap truy\u1ec1n d\u1eef li\u1ec7u gi\u1eefa client v\xe0 server, l\xe0m vi\u1ec7c v\u1edbi API, v.v. SQL cung c\u1ea5p c\xe1c c\xf4ng c\u1ee5 x\u1eed l\xfd JSON ngay trong c\u01a1 s\u1edf d\u1eef li\u1ec7u.'}),"\n",(0,i.jsx)(e.h3,{id:"11-json-trong-postgresqlmysql",children:"1.1. JSON trong PostgreSQL/MySQL"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"PostgreSQL"}),": Cung c\u1ea5p ki\u1ec3u d\u1eef li\u1ec7u ",(0,i.jsx)(e.code,{children:"JSON"})," v\xe0 ",(0,i.jsx)(e.code,{children:"JSONB"})," (d\u1ea1ng nh\u1ecb ph\xe2n t\xedch t\u1ed1t h\u01a1n)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"MySQL"}),": H\u1ed7 tr\u1ee3 ki\u1ec3u ",(0,i.jsx)(e.code,{children:"JSON"})," t\u1eeb phi\xean b\u1ea3n 5.7 tr\u1edf l\xean, cho ph\xe9p truy v\u1ea5n, l\u1ecdc v\xe0 ch\u1ec9nh s\u1eeda JSON nh\u01b0 c\xe1c tr\u01b0\u1eddng d\xe2y k\xfd t\u1ef1."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"2-c\xe1ch-l\u01b0u-tr\u1eef-v\xe0-truy-v\u1ea5n-json-trong-sql",children:"2. C\xe1ch l\u01b0u tr\u1eef v\xe0 truy v\u1ea5n JSON trong SQL"}),"\n",(0,i.jsx)(e.h3,{id:"21-t\u1ea1o-b\u1ea3ng-ch\u1ee9a-d\u1eef-li\u1ec7u-json",children:"2.1. T\u1ea1o b\u1ea3ng ch\u1ee9a d\u1eef li\u1ec7u JSON"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Trong PostgreSQL, s\u1eed d\u1ee5ng ki\u1ec3u d\u1eef li\u1ec7u ",(0,i.jsx)(e.code,{children:"JSONB"}),":"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE customers (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(100),\n    details JSONB -- PostgreSQL\n);\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Trong MySQL, s\u1eed d\u1ee5ng ki\u1ec3u d\u1eef li\u1ec7u ",(0,i.jsx)(e.code,{children:"JSON"}),":"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE customers (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(100),\n    details JSON -- MySQL\n);\n"})}),"\n",(0,i.jsx)(e.h3,{id:"22-ch\xe8n-d\u1eef-li\u1ec7u-json",children:"2.2. Ch\xe8n d\u1eef li\u1ec7u JSON"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:'INSERT INTO customers (name, details) VALUES\n(\'John Doe\', \'{"age": 30, "city": "New York", "email": "john@example.com"}\'),\n(\'Jane Smith\', \'{"age": 25, "city": "Los Angeles", "email": "jane@example.com"}\');\n'})}),"\n",(0,i.jsx)(e.h3,{id:"23-truy-v\u1ea5n-d\u1eef-li\u1ec7u-json",children:"2.3. Truy v\u1ea5n d\u1eef li\u1ec7u JSON"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"L\u1ea5y gi\xe1 tr\u1ecb c\u1ee5 th\u1ec3 t\u1eeb JSON:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- PostgreSQL\nSELECT name, details->>'city' AS city FROM customers;\n\n-- MySQL\nSELECT name, JSON_UNQUOTE(details->'$.city') AS city FROM customers;\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"T\xecm kh\xe1ch h\xe0ng trong m\u1ed9t th\xe0nh ph\u1ed1 nh\u1ea5t \u0111\u1ecbnh:"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- PostgreSQL\nSELECT * FROM customers WHERE details->>'city' = 'New York';\n\n-- MySQL\nSELECT * FROM customers WHERE JSON_UNQUOTE(details->'$.city') = 'New York';\n"})}),"\n",(0,i.jsx)(e.h2,{id:"3-b\xe0i-t\u1eadp-th\u1ef1c-h\xe0nh",children:"3. B\xe0i t\u1eadp th\u1ef1c h\xe0nh"}),"\n",(0,i.jsx)(e.h3,{id:"b\xe0i-1-th\xeam-tr\u01b0\u1eddng-phone-v\xe0o-json",children:'B\xe0i 1: Th\xeam tr\u01b0\u1eddng "phone" v\xe0o JSON'}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Y\xeau c\u1ea7u"}),": C\u1eadp nh\u1eadt b\u1ea3ng ",(0,i.jsx)(e.code,{children:"customers"})," th\xeam tr\u01b0\u1eddng ",(0,i.jsx)(e.code,{children:"phone"})," v\xe0o JSON cho m\u1ed7i kh\xe1ch h\xe0ng."]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"G\u1ee3i \xfd \u0111\xe1p \xe1n:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:" -- PostgreSQL\nUPDATE customers\nSET details = jsonb_set(details, '{phone}', '\"123-456-7890\"')\nWHERE name = 'John Doe';\n\n-- MySQL\nUPDATE customers\nSET details = JSON_SET(details, '$.phone', '\"123-456-7890\"')\nWHERE name = 'John Doe';\n"})}),"\n",(0,i.jsx)(e.h3,{id:"b\xe0i-2-t\xednh-tu\u1ed5i-trung-b\xecnh-c\u1ee7a-kh\xe1ch-h\xe0ng",children:"B\xe0i 2: T\xednh tu\u1ed5i trung b\xecnh c\u1ee7a kh\xe1ch h\xe0ng"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Y\xeau c\u1ea7u"}),": T\xednh tu\u1ed5i trung b\xecnh t\u1eeb tr\u01b0\u1eddng ",(0,i.jsx)(e.code,{children:"age"})," trong JSON."]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"G\u1ee3i \xfd \u0111\xe1p \xe1n:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:" -- PostgreSQL\nSELECT AVG((details->>'age')::INT) AS avg_age FROM customers;\n\n-- MySQL\nSELECT AVG(CAST(JSON_UNQUOTE(details->'$.age') AS UNSIGNED)) AS avg_age FROM customers;\n"})}),"\n",(0,i.jsx)(e.h3,{id:"b\xe0i-3-l\u1ecdc-danh-s\xe1ch-kh\xe1ch-h\xe0ng-c\xf3-email-k\u1ebft-th\xfac-b\u1eb1ng-examplecom",children:'B\xe0i 3: L\u1ecdc danh s\xe1ch kh\xe1ch h\xe0ng c\xf3 email k\u1ebft th\xfac b\u1eb1ng "@example.com"'}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Y\xeau c\u1ea7u"}),": L\u1ecdc danh s\xe1ch kh\xe1ch h\xe0ng c\xf3 email thu\u1ed9c d\xe3y ",(0,i.jsx)(e.code,{children:"@example.com"}),"."]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"G\u1ee3i \xfd \u0111\xe1p \xe1n:"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-sql",children:"-- PostgreSQL\nSELECT * FROM customers WHERE details->>'email' LIKE '%@example.com';\n\n-- MySQL\nSELECT * FROM customers WHERE JSON_UNQUOTE(details->'$.email') LIKE '%@example.com';\n"})}),"\n",(0,i.jsx)(e.h2,{id:"4-t\u1ed5ng-k\u1ebft-b\xe0i-h\u1ecdc",children:"4. T\u1ed5ng k\u1ebft b\xe0i h\u1ecdc"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"JSON trong SQL gi\xfap l\u01b0u tr\u1eef d\u1eef li\u1ec7u linh ho\u1ea1t h\u01a1n, nh\u01b0ng c\u1ea7n bi\u1ebft khi n\xe0o n\xean d\xf9ng JSON thay v\xec c\xe1c b\u1ea3ng quan h\u1ec7."}),"\n",(0,i.jsxs)(e.li,{children:["PostgreSQL v\xe0 MySQL h\u1ed7 tr\u1ee3 truy v\u1ea5n JSON v\u1edbi c\xe1c h\xe0m nh\u01b0 ",(0,i.jsx)(e.code,{children:"jsonb_set"}),", ",(0,i.jsx)(e.code,{children:"JSON_UNQUOTE"}),", v.v."]}),"\n",(0,i.jsx)(e.li,{children:"Th\u1ef1c h\xe0nh v\u1edbi JSON gi\xfap qu\u1ea3n l\xfd d\u1eef li\u1ec7u linh ho\u1ea1t h\u01a1n, \u0111\u1eb7c bi\u1ec7t trong c\xe1c h\u1ec7 th\u1ed1ng API."}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.p,{children:["\ud83d\ude80 ",(0,i.jsx)(e.strong,{children:"Ti\u1ebfp theo:"})," ",(0,i.jsx)(e.a,{href:"/en/docs/database/learn-sql-in-30-days/23-sql-connect-apps",children:"K\u1ebft n\u1ed1i SQL v\u1edbi \u1ee9ng d\u1ee5ng."})]}),"\n",(0,i.jsxs)(e.p,{children:["\ud83d\udccc ",(0,i.jsx)(e.strong,{children:"L\u1ed9 tr\xecnh:"})," ",(0,i.jsx)(e.a,{href:"/en/docs/database/learn-sql-in-30-days/30-day-sql-learning-roadmap",children:"H\u1ecdc SQL trong 30 ng\xe0y"}),"."]})]})}function o(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>r});var i=s(96540);const t={},l=i.createContext(t);function c(n){const e=i.useContext(l);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);