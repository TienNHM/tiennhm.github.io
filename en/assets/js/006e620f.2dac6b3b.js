"use strict";(self.webpackChunktiennhm_github_io=self.webpackChunktiennhm_github_io||[]).push([[7530],{58422:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>h,default:()=>o,frontMatter:()=>d,metadata:()=>i,toc:()=>c});var r=s(74848),t=s(28453);const d={title:"09. GROUP BY - HAVING",slug:"09-group-by-having",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 GROUP BY v\xe0 HAVING trong SQL, c\xe1ch s\u1eed d\u1ee5ng v\xe0 v\xed d\u1ee5 minh h\u1ecda.",image:"https://tiennhm.github.io/img/docs/database.jpg",sidebar_position:9,tags:["database","sql","learn-sql","roadmap","dbms"],keywords:["database","sql","learn-sql","roadmap","dbms"],enableComments:!0,draft:!1},h=void 0,i={id:"database/learn-sql-in-30-days/GROUP BY - HAVING",title:"09. GROUP BY - HAVING",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 GROUP BY v\xe0 HAVING trong SQL, c\xe1ch s\u1eed d\u1ee5ng v\xe0 v\xed d\u1ee5 minh h\u1ecda.",source:"@site/docs/06-database/learn-sql-in-30-days/09. GROUP BY - HAVING.md",sourceDirName:"06-database/learn-sql-in-30-days",slug:"/database/learn-sql-in-30-days/09-group-by-having",permalink:"/en/docs/database/learn-sql-in-30-days/09-group-by-having",draft:!1,unlisted:!1,editUrl:"https://github.com/TienNHM/tiennhm.github.io/tree/master/docs/06-database/learn-sql-in-30-days/09. GROUP BY - HAVING.md",tags:[{inline:!0,label:"database",permalink:"/en/docs/tags/database"},{inline:!0,label:"sql",permalink:"/en/docs/tags/sql"},{inline:!0,label:"learn-sql",permalink:"/en/docs/tags/learn-sql"},{inline:!0,label:"roadmap",permalink:"/en/docs/tags/roadmap"},{inline:!0,label:"dbms",permalink:"/en/docs/tags/dbms"}],version:"current",lastUpdatedAt:1741857798e3,sidebarPosition:9,frontMatter:{title:"09. GROUP BY - HAVING",slug:"09-group-by-having",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 GROUP BY v\xe0 HAVING trong SQL, c\xe1ch s\u1eed d\u1ee5ng v\xe0 v\xed d\u1ee5 minh h\u1ecda.",image:"https://tiennhm.github.io/img/docs/database.jpg",sidebar_position:9,tags:["database","sql","learn-sql","roadmap","dbms"],keywords:["database","sql","learn-sql","roadmap","dbms"],enableComments:!0,draft:!1},sidebar:"tutorialSidebar",previous:{title:"08. Aggregate Functions",permalink:"/en/docs/database/learn-sql-in-30-days/08-aggregate-functions"},next:{title:"10. JOIN",permalink:"/en/docs/database/learn-sql-in-30-days/10-join"}},l={},c=[{value:"<strong>1\ufe0f\u20e3 GROUP BY l\xe0 g\xec?</strong>",id:"1\ufe0f\u20e3-group-by-l\xe0-g\xec",level:2},{value:"<strong>V\xed d\u1ee5:</strong>",id:"v\xed-d\u1ee5",level:3},{value:"<strong>2\ufe0f\u20e3 Chu\u1ea9n b\u1ecb d\u1eef li\u1ec7u</strong>",id:"2\ufe0f\u20e3-chu\u1ea9n-b\u1ecb-d\u1eef-li\u1ec7u",level:2},{value:"<strong>3\ufe0f\u20e3 GROUP BY - Nh\xf3m d\u1eef li\u1ec7u</strong>",id:"3\ufe0f\u20e3-group-by---nh\xf3m-d\u1eef-li\u1ec7u",level:2},{value:"<strong>4\ufe0f\u20e3 HAVING - L\u1ecdc d\u1eef li\u1ec7u sau khi nh\xf3m</strong>",id:"4\ufe0f\u20e3-having---l\u1ecdc-d\u1eef-li\u1ec7u-sau-khi-nh\xf3m",level:2},{value:"<strong>5\ufe0f\u20e3 K\u1ebft h\u1ee3p GROUP BY, HAVING v\xe0 ORDER BY</strong>",id:"5\ufe0f\u20e3-k\u1ebft-h\u1ee3p-group-by-having-v\xe0-order-by",level:2},{value:"<strong>6\ufe0f\u20e3 B\xe0i t\u1eadp th\u1eed th\xe1ch \ud83d\ude80</strong>",id:"6\ufe0f\u20e3-b\xe0i-t\u1eadp-th\u1eed-th\xe1ch-",level:2}];function a(n){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"M\u1ee5c ti\xeau b\xe0i h\u1ecdc: Gi\u1edbi thi\u1ec7u v\u1ec1 GROUP BY v\xe0 HAVING trong SQL, c\xe1ch s\u1eed d\u1ee5ng v\xe0 v\xed d\u1ee5 minh h\u1ecda."}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["H\xf4m nay, b\u1ea1n s\u1ebd h\u1ecdc c\xe1ch ",(0,r.jsx)(e.strong,{children:"nh\xf3m d\u1eef li\u1ec7u"})," v\u1edbi ",(0,r.jsx)(e.code,{children:"GROUP BY"})," v\xe0 ",(0,r.jsx)(e.strong,{children:"l\u1ecdc k\u1ebft qu\u1ea3 nh\xf3m"})," b\u1eb1ng ",(0,r.jsx)(e.code,{children:"HAVING"}),"."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"1\ufe0f\u20e3-group-by-l\xe0-g\xec",children:(0,r.jsx)(e.strong,{children:"1\ufe0f\u20e3 GROUP BY l\xe0 g\xec?"})}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udccc ",(0,r.jsx)(e.code,{children:"GROUP BY"})," gi\xfap ",(0,r.jsx)(e.strong,{children:"nh\xf3m c\xe1c h\xe0ng c\xf3 c\xf9ng gi\xe1 tr\u1ecb trong m\u1ed9t c\u1ed9t"})," \u0111\u1ec3 t\xednh to\xe1n t\u1ed5ng h\u1ee3p (",(0,r.jsx)(e.code,{children:"COUNT()"}),", ",(0,r.jsx)(e.code,{children:"SUM()"}),", ",(0,r.jsx)(e.code,{children:"AVG()"}),", v.v.)."]}),"\n",(0,r.jsx)(e.h3,{id:"v\xed-d\u1ee5",children:(0,r.jsx)(e.strong,{children:"V\xed d\u1ee5:"})}),"\n",(0,r.jsxs)(e.p,{children:["T\xednh t\u1ed5ng doanh thu (",(0,r.jsx)(e.code,{children:"SUM(TotalAmount)"}),") c\u1ee7a m\u1ed7i kh\xe1ch h\xe0ng (",(0,r.jsx)(e.code,{children:"CustomerID"}),"):"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT CustomerID, SUM(TotalAmount) AS TotalSpent\nFROM Orders\nGROUP BY CustomerID;\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"\xdd ngh\u0129a:"})," Nh\xf3m c\xe1c \u0111\u01a1n h\xe0ng theo ",(0,r.jsx)(e.code,{children:"CustomerID"})," v\xe0 t\xednh t\u1ed5ng s\u1ed1 ti\u1ec1n m\xe0 m\u1ed7i kh\xe1ch h\xe0ng \u0111\xe3 chi ti\xeau."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"2\ufe0f\u20e3-chu\u1ea9n-b\u1ecb-d\u1eef-li\u1ec7u",children:(0,r.jsx)(e.strong,{children:"2\ufe0f\u20e3 Chu\u1ea9n b\u1ecb d\u1eef li\u1ec7u"})}),"\n",(0,r.jsx)(e.p,{children:"N\u1ebfu ch\u01b0a c\xf3 database, ch\u1ea1y l\u1ec7nh n\xe0y \u0111\u1ec3 t\u1ea1o l\u1ea1i:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE DATABASE ShopDB;\nUSE ShopDB;\n\nCREATE TABLE Orders (\n    ID INT AUTO_INCREMENT PRIMARY KEY,\n    CustomerID INT NOT NULL,\n    TotalAmount FLOAT NOT NULL,\n    OrderDate DATE NOT NULL\n);\n\nINSERT INTO Orders (CustomerID, TotalAmount, OrderDate) VALUES\n(1, 1500, '2024-02-20'),\n(2, 1200, '2024-02-21'),\n(3, 500, '2024-02-22'),\n(1, 800, '2024-02-22'),\n(2, 2000, '2024-02-23'),\n(3, 700, '2024-02-23');\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"3\ufe0f\u20e3-group-by---nh\xf3m-d\u1eef-li\u1ec7u",children:(0,r.jsx)(e.strong,{children:"3\ufe0f\u20e3 GROUP BY - Nh\xf3m d\u1eef li\u1ec7u"})}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udccc ",(0,r.jsx)(e.strong,{children:"\u0110\u1ebfm s\u1ed1 \u0111\u01a1n h\xe0ng c\u1ee7a m\u1ed7i kh\xe1ch h\xe0ng"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT CustomerID, COUNT(*) AS OrderCount\nFROM Orders\nGROUP BY CustomerID;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u2705 K\u1ebft qu\u1ea3:"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"CustomerID"}),(0,r.jsx)(e.th,{children:"OrderCount"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"1"}),(0,r.jsx)(e.td,{children:"2"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"2"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"3"}),(0,r.jsx)(e.td,{children:"2"})]})]})]}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udccc ",(0,r.jsx)(e.strong,{children:"T\xednh t\u1ed5ng doanh thu theo t\u1eebng ng\xe0y"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT OrderDate, SUM(TotalAmount) AS DailyRevenue\nFROM Orders\nGROUP BY OrderDate;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u2705 K\u1ebft qu\u1ea3:"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"OrderDate"}),(0,r.jsx)(e.th,{children:"DailyRevenue"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"2024-02-20"}),(0,r.jsx)(e.td,{children:"1500"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"2024-02-21"}),(0,r.jsx)(e.td,{children:"1200"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"2024-02-22"}),(0,r.jsx)(e.td,{children:"1300"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"2024-02-23"}),(0,r.jsx)(e.td,{children:"2700"})]})]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"4\ufe0f\u20e3-having---l\u1ecdc-d\u1eef-li\u1ec7u-sau-khi-nh\xf3m",children:(0,r.jsx)(e.strong,{children:"4\ufe0f\u20e3 HAVING - L\u1ecdc d\u1eef li\u1ec7u sau khi nh\xf3m"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"HAVING"})," d\xf9ng \u0111\u1ec3 ",(0,r.jsxs)(e.strong,{children:["l\u1ecdc k\u1ebft qu\u1ea3 sau khi \u0111\xe3 ",(0,r.jsx)(e.code,{children:"GROUP BY"})]}),", t\u01b0\u01a1ng t\u1ef1 nh\u01b0 ",(0,r.jsx)(e.code,{children:"WHERE"})," nh\u01b0ng \xe1p d\u1ee5ng cho d\u1eef li\u1ec7u nh\xf3m."]}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udccc ",(0,r.jsx)(e.strong,{children:"Ch\u1ec9 l\u1ea5y kh\xe1ch h\xe0ng c\xf3 t\u1ed5ng chi ti\xeau > 2000"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT CustomerID, SUM(TotalAmount) AS TotalSpent\nFROM Orders\nGROUP BY CustomerID\nHAVING SUM(TotalAmount) > 2000;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u2705 K\u1ebft qu\u1ea3:"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"CustomerID"}),(0,r.jsx)(e.th,{children:"TotalSpent"})]})}),(0,r.jsx)(e.tbody,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"3200"})]})})]}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udccc ",(0,r.jsx)(e.strong,{children:"Ch\u1ec9 l\u1ea5y c\xe1c ng\xe0y c\xf3 t\u1ed5ng doanh thu >= 2000"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT OrderDate, SUM(TotalAmount) AS DailyRevenue\nFROM Orders\nGROUP BY OrderDate\nHAVING SUM(TotalAmount) >= 2000;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u2705 K\u1ebft qu\u1ea3:"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"OrderDate"}),(0,r.jsx)(e.th,{children:"DailyRevenue"})]})}),(0,r.jsx)(e.tbody,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"2024-02-23"}),(0,r.jsx)(e.td,{children:"2700"})]})})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"5\ufe0f\u20e3-k\u1ebft-h\u1ee3p-group-by-having-v\xe0-order-by",children:(0,r.jsx)(e.strong,{children:"5\ufe0f\u20e3 K\u1ebft h\u1ee3p GROUP BY, HAVING v\xe0 ORDER BY"})}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udccc ",(0,r.jsx)(e.strong,{children:"L\u1ea5y danh s\xe1ch kh\xe1ch h\xe0ng c\xf3 t\u1eeb 2 \u0111\u01a1n h\xe0ng tr\u1edf l\xean, s\u1eafp x\u1ebfp theo t\u1ed5ng chi ti\xeau gi\u1ea3m d\u1ea7n"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"SELECT \n    CustomerID, \n    COUNT(*) AS OrderCount, \n    SUM(TotalAmount) AS TotalSpent\nFROM Orders\nGROUP BY CustomerID\nHAVING COUNT(*) >= 2\nORDER BY TotalSpent DESC;\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u2705 K\u1ebft qu\u1ea3:"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"CustomerID"}),(0,r.jsx)(e.th,{children:"OrderCount"}),(0,r.jsx)(e.th,{children:"TotalSpent"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"3200"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"1"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"2300"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"3"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{children:"1200"})]})]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"6\ufe0f\u20e3-b\xe0i-t\u1eadp-th\u1eed-th\xe1ch-",children:(0,r.jsx)(e.strong,{children:"6\ufe0f\u20e3 B\xe0i t\u1eadp th\u1eed th\xe1ch \ud83d\ude80"})}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udc49 ",(0,r.jsx)(e.strong,{children:"B\xe0i 1:"})," T\xednh s\u1ed1 l\u01b0\u1ee3ng \u0111\u01a1n h\xe0ng theo t\u1eebng ng\xe0y.",(0,r.jsx)(e.br,{}),"\n","\ud83d\udc49 ",(0,r.jsx)(e.strong,{children:"B\xe0i 2:"})," T\xecm kh\xe1ch h\xe0ng c\xf3 t\u1ed5ng chi ti\xeau l\u1edbn h\u01a1n ",(0,r.jsx)(e.code,{children:"1000"}),".",(0,r.jsx)(e.br,{}),"\n","\ud83d\udc49 ",(0,r.jsx)(e.strong,{children:"B\xe0i 3:"})," \u0110\u1ebfm s\u1ed1 l\u01b0\u1ee3ng kh\xe1ch h\xe0ng c\xf3 \xedt nh\u1ea5t ",(0,r.jsx)(e.code,{children:"2 \u0111\u01a1n h\xe0ng"}),".",(0,r.jsx)(e.br,{}),"\n","\ud83d\udc49 ",(0,r.jsx)(e.strong,{children:"B\xe0i 4:"})," T\xednh doanh thu trung b\xecnh m\u1ed7i ng\xe0y, ch\u1ec9 l\u1ea5y ng\xe0y c\xf3 doanh thu l\u1edbn h\u01a1n ",(0,r.jsx)(e.code,{children:"1500"}),".",(0,r.jsx)(e.br,{}),"\n","\ud83d\udc49 ",(0,r.jsx)(e.strong,{children:"B\xe0i 5:"})," L\u1ea5y danh s\xe1ch ng\xe0y c\xf3 tr\xean ",(0,r.jsx)(e.code,{children:"1 \u0111\u01a1n h\xe0ng"}),", s\u1eafp x\u1ebfp theo s\u1ed1 l\u01b0\u1ee3ng \u0111\u01a1n h\xe0ng gi\u1ea3m d\u1ea7n."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.p,{children:["\u2705 ",(0,r.jsx)(e.strong,{children:"T\xf3m t\u1eaft Ng\xe0y 9:"}),(0,r.jsx)(e.br,{}),"\n","\u2714\ufe0f ",(0,r.jsx)(e.code,{children:"GROUP BY"})," - Nh\xf3m d\u1eef li\u1ec7u theo m\u1ed9t ho\u1eb7c nhi\u1ec1u c\u1ed9t.",(0,r.jsx)(e.br,{}),"\n","\u2714\ufe0f ",(0,r.jsx)(e.code,{children:"HAVING"})," - L\u1ecdc d\u1eef li\u1ec7u sau khi nh\xf3m (",(0,r.jsx)(e.code,{children:"WHERE"})," kh\xf4ng d\xf9ng \u0111\u01b0\u1ee3c v\u1edbi Aggregate Functions).",(0,r.jsx)(e.br,{}),"\n","\u2714\ufe0f K\u1ebft h\u1ee3p v\u1edbi ",(0,r.jsx)(e.code,{children:"ORDER BY"})," \u0111\u1ec3 s\u1eafp x\u1ebfp k\u1ebft qu\u1ea3."]}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\ude80 ",(0,r.jsx)(e.strong,{children:"Ti\u1ebfp theo:"})," H\u1ecdc v\u1ec1 ",(0,r.jsxs)(e.a,{href:"/en/docs/database/learn-sql-in-30-days/10-join",children:[(0,r.jsx)(e.code,{children:"JOIN"})," \u0111\u1ec3 k\u1ebft n\u1ed1i nhi\u1ec1u b\u1ea3ng d\u1eef li\u1ec7u"]}),"!"]}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udccc ",(0,r.jsx)(e.strong,{children:"L\u1ed9 tr\xecnh:"})," ",(0,r.jsx)(e.a,{href:"/en/docs/database/learn-sql-in-30-days/30-day-sql-learning-roadmap",children:"H\u1ecdc SQL trong 30 ng\xe0y"})]})]})}function o(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>h,x:()=>i});var r=s(96540);const t={},d=r.createContext(t);function h(n){const e=r.useContext(d);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:h(n.components),r.createElement(d.Provider,{value:e},n.children)}}}]);