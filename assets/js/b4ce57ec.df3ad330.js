"use strict";(globalThis.webpackChunktiennhm_github_io=globalThis.webpackChunktiennhm_github_io||[]).push([[1153],{9338:(n,s,r)=>{r.r(s),r.d(s,{assets:()=>h,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>e,toc:()=>d});const e=JSON.parse('{"id":"database/learn-sql-in-30-days/Subquery","title":"11. Truy v\u1ea5n con (Subquery)","description":"Gi\u1edbi thi\u1ec7u v\u1ec1 truy v\u1ea5n con (Subquery) trong SQL, c\xe1ch s\u1eed d\u1ee5ng v\xe0 v\xed d\u1ee5 minh h\u1ecda.","source":"@site/docs/06-database/learn-sql-in-30-days/11. Subquery.md","sourceDirName":"06-database/learn-sql-in-30-days","slug":"/database/learn-sql-in-30-days/11-subquery","permalink":"/docs/database/learn-sql-in-30-days/11-subquery","draft":false,"unlisted":false,"editUrl":"https://github.com/TienNHM/tiennhm.github.io/tree/master/docs/06-database/learn-sql-in-30-days/11. Subquery.md","tags":[{"inline":true,"label":"database","permalink":"/docs/tags/database"},{"inline":true,"label":"sql","permalink":"/docs/tags/sql"},{"inline":true,"label":"learn-sql","permalink":"/docs/tags/learn-sql"},{"inline":true,"label":"roadmap","permalink":"/docs/tags/roadmap"},{"inline":true,"label":"dbms","permalink":"/docs/tags/dbms"}],"version":"current","lastUpdatedAt":1762676258000,"sidebarPosition":11,"frontMatter":{"title":"11. Truy v\u1ea5n con (Subquery)","slug":"11-subquery","description":"Gi\u1edbi thi\u1ec7u v\u1ec1 truy v\u1ea5n con (Subquery) trong SQL, c\xe1ch s\u1eed d\u1ee5ng v\xe0 v\xed d\u1ee5 minh h\u1ecda.","image":"https://tiennhm.github.io/img/docs/database.jpg","sidebar_position":11,"tags":["database","sql","learn-sql","roadmap","dbms"],"keywords":["database","sql","learn-sql","roadmap","dbms"],"enableComments":true,"draft":false},"sidebar":"tutorialSidebar","previous":{"title":"10. JOIN","permalink":"/docs/database/learn-sql-in-30-days/10-join"},"next":{"title":"12. UNION - INTERSECT","permalink":"/docs/database/learn-sql-in-30-days/12-union-intersect"}}');var t=r(74848),i=r(28453);const c={title:"11. Truy v\u1ea5n con (Subquery)",slug:"11-subquery",description:"Gi\u1edbi thi\u1ec7u v\u1ec1 truy v\u1ea5n con (Subquery) trong SQL, c\xe1ch s\u1eed d\u1ee5ng v\xe0 v\xed d\u1ee5 minh h\u1ecda.",image:"https://tiennhm.github.io/img/docs/database.jpg",sidebar_position:11,tags:["database","sql","learn-sql","roadmap","dbms"],keywords:["database","sql","learn-sql","roadmap","dbms"],enableComments:!0,draft:!1},l=void 0,h={},d=[{value:"<strong>1\ufe0f\u20e3 Subquery l\xe0 g\xec?</strong>",id:"1\ufe0f\u20e3-subquery-l\xe0-g\xec",level:2},{value:"<strong>2\ufe0f\u20e3 Subquery trong WHERE - L\u1ecdc d\u1eef li\u1ec7u</strong>",id:"2\ufe0f\u20e3-subquery-trong-where---l\u1ecdc-d\u1eef-li\u1ec7u",level:2},{value:"<strong>3\ufe0f\u20e3 Subquery trong SELECT - T\xednh to\xe1n b\u1ed5 sung</strong>",id:"3\ufe0f\u20e3-subquery-trong-select---t\xednh-to\xe1n-b\u1ed5-sung",level:2},{value:"<strong>4\ufe0f\u20e3 Subquery trong FROM - T\u1ea1o b\u1ea3ng t\u1ea1m</strong>",id:"4\ufe0f\u20e3-subquery-trong-from---t\u1ea1o-b\u1ea3ng-t\u1ea1m",level:2},{value:"<strong>5\ufe0f\u20e3 Subquery v\u1edbi EXISTS - Ki\u1ec3m tra s\u1ef1 t\u1ed3n t\u1ea1i</strong>",id:"5\ufe0f\u20e3-subquery-v\u1edbi-exists---ki\u1ec3m-tra-s\u1ef1-t\u1ed3n-t\u1ea1i",level:2},{value:"<strong>6\ufe0f\u20e3 B\xe0i t\u1eadp th\u1eed th\xe1ch \ud83d\ude80</strong>",id:"6\ufe0f\u20e3-b\xe0i-t\u1eadp-th\u1eed-th\xe1ch-",level:2}];function o(n){const s={a:"a",blockquote:"blockquote",br:"br",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsx)(s.p,{children:"M\u1ee5c ti\xeau b\xe0i h\u1ecdc: Gi\u1edbi thi\u1ec7u v\u1ec1 truy v\u1ea5n con (Subquery) trong SQL, c\xe1ch s\u1eed d\u1ee5ng v\xe0 v\xed d\u1ee5 minh h\u1ecda."}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["H\xf4m nay, b\u1ea1n s\u1ebd h\u1ecdc v\u1ec1 ",(0,t.jsx)(s.strong,{children:"Subquery"})," (truy v\u1ea5n con) trong SQL, m\u1ed9t c\xf4ng c\u1ee5 m\u1ea1nh m\u1ebd gi\xfap ",(0,t.jsx)(s.strong,{children:"truy v\u1ea5n l\u1ed3ng nhau"})," v\xe0 x\u1eed l\xfd d\u1eef li\u1ec7u ph\u1ee9c t\u1ea1p."]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"1\ufe0f\u20e3-subquery-l\xe0-g\xec",children:(0,t.jsx)(s.strong,{children:"1\ufe0f\u20e3 Subquery l\xe0 g\xec?"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Subquery"})," l\xe0 m\u1ed9t truy v\u1ea5n SQL ",(0,t.jsx)(s.strong,{children:"n\u1eb1m b\xean trong m\u1ed9t truy v\u1ea5n kh\xe1c"}),". N\xf3 c\xf3 th\u1ec3 n\u1eb1m trong:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"SELECT"})," \u2192 D\xf9ng \u0111\u1ec3 t\xednh to\xe1n d\u1eef li\u1ec7u b\u1ed5 sung."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"FROM"})," \u2192 D\xf9ng nh\u01b0 m\u1ed9t b\u1ea3ng t\u1ea1m."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"WHERE"})," \u2192 D\xf9ng \u0111\u1ec3 l\u1ecdc d\u1eef li\u1ec7u d\u1ef1a tr\xean m\u1ed9t \u0111i\u1ec1u ki\u1ec7n."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"C\u1ea5u tr\xfac chung c\u1ee7a m\u1ed9t Subquery"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT column_name\nFROM table_name\nWHERE column_name OPERATOR (SELECT column_name FROM another_table);\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Trong \u0111\xf3:",(0,t.jsx)(s.br,{}),"\n","\u2705 ",(0,t.jsx)(s.strong,{children:"Subquery"})," n\u1eb1m trong d\u1ea5u ngo\u1eb7c ",(0,t.jsx)(s.code,{children:"()"}),".",(0,t.jsx)(s.br,{}),"\n","\u2705 ",(0,t.jsx)(s.strong,{children:"Operator"})," c\xf3 th\u1ec3 l\xe0 ",(0,t.jsx)(s.code,{children:"="}),", ",(0,t.jsx)(s.code,{children:">"}),", ",(0,t.jsx)(s.code,{children:"<"}),", ",(0,t.jsx)(s.code,{children:"IN"}),", ",(0,t.jsx)(s.code,{children:"NOT IN"}),", ",(0,t.jsx)(s.code,{children:"EXISTS"}),", v.v."]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"2\ufe0f\u20e3-subquery-trong-where---l\u1ecdc-d\u1eef-li\u1ec7u",children:(0,t.jsx)(s.strong,{children:"2\ufe0f\u20e3 Subquery trong WHERE - L\u1ecdc d\u1eef li\u1ec7u"})}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"V\xed d\u1ee5 1: T\xecm s\u1ea3n ph\u1ea9m c\xf3 gi\xe1 cao h\u01a1n gi\xe1 trung b\xecnh"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT ProductName, Price\nFROM Products\nWHERE Price > (SELECT AVG(Price) FROM Products);\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 ",(0,t.jsx)(s.strong,{children:"Gi\u1ea3i th\xedch:"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"SELECT AVG(Price) FROM Products"})," \u2192 T\xednh gi\xe1 trung b\xecnh c\u1ee7a t\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"WHERE Price > (k\u1ebft qu\u1ea3 tr\xean)"})," \u2192 L\u1ecdc ra c\xe1c s\u1ea3n ph\u1ea9m c\xf3 gi\xe1 cao h\u01a1n trung b\xecnh."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"V\xed d\u1ee5 2: L\u1ea5y danh s\xe1ch kh\xe1ch h\xe0ng \u0111\xe3 t\u1eebng \u0111\u1eb7t h\xe0ng"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT Name \nFROM Customers\nWHERE CustomerID IN (SELECT DISTINCT CustomerID FROM Orders);\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 ",(0,t.jsx)(s.strong,{children:"Gi\u1ea3i th\xedch:"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"SELECT DISTINCT CustomerID FROM Orders"})," \u2192 L\u1ea5y danh s\xe1ch kh\xe1ch h\xe0ng c\xf3 \u0111\u01a1n h\xe0ng."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"WHERE CustomerID IN (...)"})," \u2192 L\u1ecdc danh s\xe1ch kh\xe1ch h\xe0ng t\u1eeb b\u1ea3ng ",(0,t.jsx)(s.code,{children:"Customers"}),"."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"3\ufe0f\u20e3-subquery-trong-select---t\xednh-to\xe1n-b\u1ed5-sung",children:(0,t.jsx)(s.strong,{children:"3\ufe0f\u20e3 Subquery trong SELECT - T\xednh to\xe1n b\u1ed5 sung"})}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"V\xed d\u1ee5: Hi\u1ec3n th\u1ecb t\u1ed5ng s\u1ed1 \u0111\u01a1n h\xe0ng c\u1ee7a t\u1eebng kh\xe1ch h\xe0ng"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT Name, \n       (SELECT COUNT(*) FROM Orders WHERE Orders.CustomerID = Customers.CustomerID) AS TotalOrders\nFROM Customers;\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 ",(0,t.jsx)(s.strong,{children:"Gi\u1ea3i th\xedch:"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"COUNT(*)"})," \u2192 \u0110\u1ebfm s\u1ed1 l\u01b0\u1ee3ng \u0111\u01a1n h\xe0ng c\u1ee7a t\u1eebng kh\xe1ch."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"AS TotalOrders"})," \u2192 Hi\u1ec3n th\u1ecb k\u1ebft qu\u1ea3 nh\u01b0 m\u1ed9t c\u1ed9t b\u1ed5 sung."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"4\ufe0f\u20e3-subquery-trong-from---t\u1ea1o-b\u1ea3ng-t\u1ea1m",children:(0,t.jsx)(s.strong,{children:"4\ufe0f\u20e3 Subquery trong FROM - T\u1ea1o b\u1ea3ng t\u1ea1m"})}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"V\xed d\u1ee5: T\xecm top 3 s\u1ea3n ph\u1ea9m c\xf3 gi\xe1 cao nh\u1ea5t"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT ProductName, Price\nFROM (SELECT ProductName, Price FROM Products ORDER BY Price DESC LIMIT 3) AS TopProducts;\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 ",(0,t.jsx)(s.strong,{children:"Gi\u1ea3i th\xedch:"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ORDER BY Price DESC LIMIT 3"})," \u2192 L\u1ea5y 3 s\u1ea3n ph\u1ea9m \u0111\u1eaft nh\u1ea5t."]}),"\n",(0,t.jsx)(s.li,{children:"D\xf9ng subquery nh\u01b0 m\u1ed9t b\u1ea3ng t\u1ea1m."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"5\ufe0f\u20e3-subquery-v\u1edbi-exists---ki\u1ec3m-tra-s\u1ef1-t\u1ed3n-t\u1ea1i",children:(0,t.jsx)(s.strong,{children:"5\ufe0f\u20e3 Subquery v\u1edbi EXISTS - Ki\u1ec3m tra s\u1ef1 t\u1ed3n t\u1ea1i"})}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"V\xed d\u1ee5: T\xecm kh\xe1ch h\xe0ng c\xf3 \u0111\u01a1n h\xe0ng tr\xean 1000$"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-sql",children:"SELECT Name \nFROM Customers C\nWHERE EXISTS (SELECT 1 FROM Orders O WHERE O.CustomerID = C.CustomerID AND O.TotalAmount > 1000);\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 ",(0,t.jsx)(s.strong,{children:"Gi\u1ea3i th\xedch:"})]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"EXISTS"})," ki\u1ec3m tra n\u1ebfu c\xf3 \u0111\u01a1n h\xe0ng ",(0,t.jsx)(s.strong,{children:"th\u1ecfa m\xe3n \u0111i\u1ec1u ki\u1ec7n"})," (",(0,t.jsx)(s.code,{children:"TotalAmount > 1000"}),")."]}),"\n",(0,t.jsx)(s.li,{children:"N\u1ebfu c\xf3 \xedt nh\u1ea5t m\u1ed9t \u0111\u01a1n h\u1ee3p l\u1ec7, kh\xe1ch h\xe0ng \u0111\xf3 \u0111\u01b0\u1ee3c ch\u1ecdn."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"6\ufe0f\u20e3-b\xe0i-t\u1eadp-th\u1eed-th\xe1ch-",children:(0,t.jsx)(s.strong,{children:"6\ufe0f\u20e3 B\xe0i t\u1eadp th\u1eed th\xe1ch \ud83d\ude80"})}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\udc49 ",(0,t.jsx)(s.strong,{children:"B\xe0i 1:"})," T\xecm s\u1ea3n ph\u1ea9m c\xf3 gi\xe1 th\u1ea5p h\u01a1n gi\xe1 trung b\xecnh.",(0,t.jsx)(s.br,{}),"\n","\ud83d\udc49 ",(0,t.jsx)(s.strong,{children:"B\xe0i 2:"})," L\u1ea5y danh s\xe1ch kh\xe1ch h\xe0ng ch\u01b0a t\u1eebng mua h\xe0ng.",(0,t.jsx)(s.br,{}),"\n","\ud83d\udc49 ",(0,t.jsx)(s.strong,{children:"B\xe0i 3:"})," Hi\u1ec3n th\u1ecb s\u1ed1 \u0111\u01a1n h\xe0ng c\u1ee7a m\u1ed7i kh\xe1ch h\xe0ng nh\u01b0 m\u1ed9t c\u1ed9t (",(0,t.jsx)(s.code,{children:"SELECT"}),").",(0,t.jsx)(s.br,{}),"\n","\ud83d\udc49 ",(0,t.jsx)(s.strong,{children:"B\xe0i 4:"})," L\u1ea5y danh s\xe1ch nh\xe2n vi\xean c\xf3 m\u1ee9c l\u01b0\u01a1ng cao nh\u1ea5t (",(0,t.jsx)(s.code,{children:"FROM"}),").",(0,t.jsx)(s.br,{}),"\n","\ud83d\udc49 ",(0,t.jsx)(s.strong,{children:"B\xe0i 5:"})," T\xecm t\u1ea5t c\u1ea3 kh\xe1ch h\xe0ng c\xf3 \u0111\u01a1n h\xe0ng tr\u1ecb gi\xe1 tr\xean 2000$ (",(0,t.jsx)(s.code,{children:"EXISTS"}),")."]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsxs)(s.p,{children:["\u2705 ",(0,t.jsx)(s.strong,{children:"T\xf3m t\u1eaft Ng\xe0y 11:"}),(0,t.jsx)(s.br,{}),"\n","\u2714\ufe0f ",(0,t.jsx)(s.strong,{children:"Subquery trong WHERE"})," \u2192 L\u1ecdc d\u1eef li\u1ec7u d\u1ef1a tr\xean m\u1ed9t gi\xe1 tr\u1ecb t\xednh to\xe1n.",(0,t.jsx)(s.br,{}),"\n","\u2714\ufe0f ",(0,t.jsx)(s.strong,{children:"Subquery trong SELECT"})," \u2192 T\xednh to\xe1n v\xe0 hi\u1ec3n th\u1ecb d\u1eef li\u1ec7u b\u1ed5 sung.",(0,t.jsx)(s.br,{}),"\n","\u2714\ufe0f ",(0,t.jsx)(s.strong,{children:"Subquery trong FROM"})," \u2192 S\u1eed d\u1ee5ng truy v\u1ea5n con nh\u01b0 m\u1ed9t b\u1ea3ng t\u1ea1m.",(0,t.jsx)(s.br,{}),"\n","\u2714\ufe0f ",(0,t.jsx)(s.strong,{children:"Subquery v\u1edbi EXISTS"})," \u2192 Ki\u1ec3m tra s\u1ef1 t\u1ed3n t\u1ea1i c\u1ee7a d\u1eef li\u1ec7u."]}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\ude80 ",(0,t.jsx)(s.strong,{children:"Ti\u1ebfp theo:"})," H\u1ecdc v\u1ec1 ",(0,t.jsx)(s.a,{href:"/docs/database/learn-sql-in-30-days/12-union-intersect",children:"UNION & INTERSECT trong SQL"}),"!"]}),"\n",(0,t.jsxs)(s.p,{children:["\ud83d\udccc ",(0,t.jsx)(s.strong,{children:"L\u1ed9 tr\xecnh:"})," ",(0,t.jsx)(s.a,{href:"/docs/database/learn-sql-in-30-days/30-day-sql-learning-roadmap",children:"H\u1ecdc SQL trong 30 ng\xe0y"})]})]})}function a(n={}){const{wrapper:s}={...(0,i.R)(),...n.components};return s?(0,t.jsx)(s,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}},28453:(n,s,r)=>{r.d(s,{R:()=>c,x:()=>l});var e=r(96540);const t={},i=e.createContext(t);function c(n){const s=e.useContext(i);return e.useMemo((function(){return"function"==typeof n?n(s):{...s,...n}}),[s,n])}function l(n){let s;return s=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),e.createElement(i.Provider,{value:s},n.children)}}}]);